# Stable Diffusion

&emsp;&emsp;在 Stable Diffusion 中，你可以使用一些常用的语法来控制图像的生成过程。例如，权重比例语法可以提高或降低某个提词的权重，提词混合语法可以交替使用两个提词，添加和移除语法可以在特定步骤中加入或移除某个提词，OR 语法可以在前后部分绘制不同的物体等等。

## 1. 从问题开始

&emsp;&emsp;编写一个好的 prompt 通常需要一些问题，这些问题可以帮助我们确定需要什么样的图片。以下是一些问题，可以作为编写 prompt 的起点：

- 想要一张照片还是一幅画？
- 照片的主题是什么？人物？动物或者风景？
- 想要添加哪些细节？比如特殊照明、环境、颜色方案、视角、背景等。
- 采用特定的艺术风格吗？比如 3D 渲染、工作室、电影海报等。
- 特定的图片类型？比如微距、长焦等。

## 2. 权重语法

> Stable Diffusion Prompt 中默认 Tag 越靠前，权重越高

&emsp;&emsp;权重比例语法用于提高或降低单个提词的权重比例。我们可以使用以下格式来设置权重比例：

```
(单词 A:权重)：用于提高或降低该提词的权重比例；
{单词 B}: 单词 B 的权重为 1.05=(单词 B:1.05)
[单词 C]: 单词 C 的权重减弱 0.952=（单词 C:0.952)
((单词 D)=(单词 D:1.1*1.1)
{{单词 E}}=(单词 E:1.05*1.05)
[[单词F]]=(单词 F:0.952*0.952)
```

&emsp;&emsp;其中，括号、花括号和方括号分别表示提升、不变和降低权重比例。冒号后面的数字表示权重大小。使用两个括号或花括号可以将权重平方，使用两个方括号可以将权重开方。

## 3. 添加和移除语法

&emsp;&emsp;添加和移除语法用于在自动步数中开始或结束加入提词。使用以下格式：

`[单词:步数]`：在第几步开始加入该提词；<br>
`[单词::步数]`：在第几步结束加入该提词；<br>
`[[单词::步数]:步数]`：在第几步开始，到第几步结束加入该提词；<br>

## 4. AND 语法

&emsp;&emsp;提词混合语法用于在每一步中交替使用混合的提词，让 AI 更好地理解用户的意图，从而生成更加符合期望的图像。

&emsp;&emsp;语法格式为：`[单词 A|单词 B]`

例如：

`[silver|purple] hair`：表示将银色和紫色混合起来，生成这两种颜色的头发；
`[dog|cat]`：表示在生成图像的每一步中，交替使用狗和猫的形状和特征。
另外，也可以使用 AND 语法来组合不同的提词，例如：

`red shirt AND blue pants`：表示生成穿着红衣和蓝裤的人物图像。

## 5. OR 语法

&emsp;&emsp;OR 语法用于在生成过程中交替使用两个词语。例如：

`[dog\:cat:0.9]`：前面 90% 的步数生成狗这个词语，后面 10% 的步数生成猫这个词语。
`[dog\:cat:30]`：前面 30 步生成狗这个词语，后面的步数生成猫这个词语。

## 小结

&emsp;&emsp;在本章节中，我们讨论了如何使用 Stable Diffusion 生成图像。通过使用不同的语法和技巧，可以有效地操控 AI 生成所需的图像。以下是本章节的主要内容概述：

- 从问题开始：通过思考一系列问题，确定想要生成的图像类型、主题、细节等，有助于编写一个有效的 Prompt。

- 权重语法：使用括号、花括号和方括号，可以调整 Prompt 中各个单词的权重，以影响生成的图像。

- 添加和移除语法：利用此语法，可以控制某个单词在生成过程的哪一步加入或移除，以进一步细化图像生成。

- AND 语法：通过 AND 语法，可以组合不同的提词，让 AI 更好地理解的意图，从而生成更符合期望的图像。

- OR 语法：OR 语法允许在生成过程中交替使用两个词语，以实现更丰富的图像输出。

&emsp;&emsp;通过熟练掌握这些技巧，将能够更好地利用 Stable Diffusion 生成满足需求的图像。不断实践和尝试将有助于更快地掌握这些技巧，并发挥 AI 的最大潜力。
